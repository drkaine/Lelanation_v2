const messages: Record<string, Record<string, string>> = {
  fr: {
    "tabs.discover": "Découvrir",
    "tabs.myBuilds": "Mes builds",
    "tabs.favorites": "Favoris",
    "tabs.settings": "Paramètres",
    "status.connected": "Client LoL connecté",
    "status.disconnected": "Client LoL non détecté",
    "subtitle": "Les mêmes builds que sur la page Builds, avec import local et favoris.",
    "loading": "Chargement des builds...",
    "noBuilds": "Aucun build disponible.",
    "noFavorites": "Aucun favori pour le moment.",
    "noImported": "Aucun build importé. Utilise un code de partage dans les paramètres pour importer tes builds du site.",
    "authorUnknown": "Anonyme",
    "search": "Rechercher un build, champion, auteur...",
    "sort.label": "Tri",
    "sort.recent": "Plus récents",
    "sort.name": "Nom A-Z",
    "upToDate": "À jour",
    "clearFilters": "Effacer filtres",
    "import": "Importer",
    "detail": "Détail",
    "detailClose": "Fermer",
    "detailBack": "Retour",
    "detailCreated": "Créé le",
    "detailViewOnSite": "Voir sur le site (stats, partage)",
    "favorite.add": "Ajouter aux favoris",
    "favorite.remove": "Retirer des favoris",
    "badge.personal": "Perso",
    "settings.language": "Langue",
    "settings.clientImport": "Import dans le client",
    "settings.importRunes": "Importer les runes",
    "settings.importItems": "Importer les items",
    "settings.importSpells": "Importer les sorts d'invocateur",
    "settings.matchSubmit": "Envoi du match",
    "settings.disableMatch": "Ne pas envoyer automatiquement mes matchs au site",
    "settings.autoOn": "Envoi auto actif si un nouveau match est détecté.",
    "settings.autoOff": "Envoi auto inactif.",
    "settings.shortcut": "Raccourci bureau",
    "settings.createShortcut": "Créer un raccourci sur le bureau",
    "settings.linkTitle": "Lier mes builds du site",
    "settings.linkHint": "Sur le site, dans \"Mes Builds\", clique sur \"Partager sur l'app\" pour obtenir un code.",
    "settings.linkPlaceholder": "Code (ex: ABC123)",
    "settings.linkImport": "Importer",
    "settings.linkLoading": "...",
    "settings.linkNotFound": "Code introuvable ou expiré.",
    "settings.linkServerError": "Erreur serveur.",
    "settings.linkNetworkError": "Impossible de contacter le serveur.",
    "settings.linkSuccess": "{count} build importé !",
    "settings.linkSuccessPlural": "{count} builds importés !",
    "settings.linkUpToDate": "Builds déjà à jour, aucun nouveau build.",
    "settings.clearImported": "Supprimer les builds importés ({count})",
    "importSuccess": "Build importé dans le client !",
    "match.autoSent": "Match envoyé automatiquement.",
    "match.alreadyKnown": "Match déjà connu.",
    "shortcut.created": "Raccourci créé.",
    "shortcut.error": "Impossible de créer le raccourci.",
    "settings.uninstallTitle": "Désinstallation",
    "settings.uninstallBtn": "Désinstaller l'application",
    "settings.uninstallHint": "Lance le programme de désinstallation Windows.",
    "settings.uninstallError": "Impossible de lancer le désinstalleur.",
    "settings.updateTitle": "Mises à jour",
    "settings.autoUpdate": "Vérifier les mises à jour au démarrage",
    "update.available": "Une nouvelle version ({version}) est disponible !",
    "update.install": "Installer la mise à jour",
    "update.installing": "Installation en cours… {progress}%",
    "update.dismiss": "Plus tard",
    "update.upToDate": "L'application est à jour (v{version}).",
    "update.checking": "Vérification des mises à jour...",
    "update.error": "Impossible de vérifier les mises à jour.",
    "update.installError": "Erreur lors de l'installation : {error}",
    "update.restarting": "Redémarrage de l'application…",
    "stats.selectChampionPrompt": "Sélectionnez un champion pour voir les statistiques",
    "stats.selectChampionAndItems": "Sélectionnez un champion et des items pour voir les statistiques",
    "stats.championLevel": "Niveau du champion",
    "stats.level": "Niveau",
    "stats.statColumn": "Statistique",
    "stats.base": "Base",
    "stats.itemsColumn": "Items",
    "stats.shards": "Shards",
    "stats.total": "Total",
    "stats.categories.basic": "Statistiques de base",
    "stats.categories.advanced": "Statistiques avancées",
    "stats.categories.economic": "Statistiques économiques",
    "stats.categories.untouched": "Statistiques non touchées",
    "stats.labels.health": "Santé (HP)",
    "stats.labels.mana": "Mana (MP)",
    "stats.labels.attackDamage": "Dégâts d'attaque (AD)",
    "stats.labels.abilityPower": "Puissance magique (AP)",
    "stats.labels.armor": "Armure",
    "stats.labels.magicResist": "Résistance magique (MR)",
    "stats.labels.attackSpeed": "Vitesse d'attaque (AS)",
    "stats.labels.critChance": "Chance de critique",
    "stats.labels.lifeSteal": "Vol de vie",
    "stats.labels.cooldownReduction": "Réduction de temps de recharge (CDR)",
    "stats.labels.movementSpeed": "Vitesse de déplacement (MS)",
    "stats.labels.healthRegen": "Régénération de santé",
    "stats.labels.manaRegen": "Régénération de mana",
    "stats.labels.tenacity": "Ténacité",
    "stats.labels.goldValue": "Valeur en or",
    "stats.labels.goldCost": "Coût en or",
    "stats.labels.goldEfficiency": "Efficacité en or",
    "stats.labels.critDamage": "Dégâts de critique",
    "stats.labels.totalEffectiveHealth": "Santé effective totale",
    "stats.labels.physicalEffectiveHealth": "Santé effective physique",
    "stats.labels.magicalEffectiveHealth": "Santé effective magique",
    "stats.labels.armorDamageReductionPercent": "Réduction dégâts physiques (%)",
    "stats.labels.magicDamageReductionPercent": "Réduction dégâts magiques (%)",
    "stats.title": "Statistiques",
  },
  en: {
    "tabs.discover": "Discover",
    "tabs.myBuilds": "My builds",
    "tabs.favorites": "Favorites",
    "tabs.settings": "Settings",
    "status.connected": "LoL Client connected",
    "status.disconnected": "LoL Client not detected",
    "subtitle": "Same builds as the Builds page, with local import and favorites.",
    "loading": "Loading builds...",
    "noBuilds": "No builds available.",
    "noFavorites": "No favorites yet.",
    "noImported": "No imported builds. Use a share code in Settings to import your builds from the website.",
    "authorUnknown": "Anonymous",
    "search": "Search build, champion, author...",
    "sort.label": "Sort",
    "sort.recent": "Most recent",
    "sort.name": "Name A-Z",
    "upToDate": "Up to date",
    "clearFilters": "Clear filters",
    "import": "Import",
    "detail": "Detail",
    "detailClose": "Close",
    "detailBack": "Back",
    "detailCreated": "Created on",
    "detailViewOnSite": "View on website (stats, share)",
    "favorite.add": "Add to favorites",
    "favorite.remove": "Remove from favorites",
    "badge.personal": "Personal",
    "settings.language": "Language",
    "settings.clientImport": "Client import",
    "settings.importRunes": "Import runes",
    "settings.importItems": "Import items",
    "settings.importSpells": "Import summoner spells",
    "settings.matchSubmit": "Match submission",
    "settings.disableMatch": "Don't automatically submit my matches to the website",
    "settings.autoOn": "Auto submit active when a new match is detected.",
    "settings.autoOff": "Auto submit inactive.",
    "settings.shortcut": "Desktop shortcut",
    "settings.createShortcut": "Create desktop shortcut",
    "settings.linkTitle": "Link my website builds",
    "settings.linkHint": "On the website, in \"My Builds\", click \"Share to app\" to get a code.",
    "settings.linkPlaceholder": "Code (e.g. ABC123)",
    "settings.linkImport": "Import",
    "settings.linkLoading": "...",
    "settings.linkNotFound": "Code not found or expired.",
    "settings.linkServerError": "Server error.",
    "settings.linkNetworkError": "Unable to reach server.",
    "settings.linkSuccess": "{count} build imported!",
    "settings.linkSuccessPlural": "{count} builds imported!",
    "settings.linkUpToDate": "Builds already up to date, no new builds.",
    "settings.clearImported": "Delete imported builds ({count})",
    "importSuccess": "Build imported to client!",
    "match.autoSent": "Match submitted automatically.",
    "match.alreadyKnown": "Match already known.",
    "shortcut.created": "Shortcut created.",
    "shortcut.error": "Unable to create shortcut.",
    "settings.uninstallTitle": "Uninstall",
    "settings.uninstallBtn": "Uninstall application",
    "settings.uninstallHint": "Launches the Windows uninstaller.",
    "settings.uninstallError": "Unable to launch uninstaller.",
    "settings.updateTitle": "Updates",
    "settings.autoUpdate": "Check for updates on startup",
    "update.available": "A new version ({version}) is available!",
    "update.install": "Install update",
    "update.installing": "Installing… {progress}%",
    "update.dismiss": "Later",
    "update.upToDate": "App is up to date (v{version}).",
    "update.checking": "Checking for updates...",
    "update.error": "Unable to check for updates.",
    "update.installError": "Installation error: {error}",
    "update.restarting": "Restarting application…",
    "stats.selectChampionPrompt": "Select a champion to see statistics",
    "stats.selectChampionAndItems": "Select a champion and items to see statistics",
    "stats.championLevel": "Champion level",
    "stats.level": "Level",
    "stats.statColumn": "Stat",
    "stats.base": "Base",
    "stats.itemsColumn": "Items",
    "stats.shards": "Shards",
    "stats.total": "Total",
    "stats.categories.basic": "Basic Statistics",
    "stats.categories.advanced": "Advanced Statistics",
    "stats.categories.economic": "Economic Statistics",
    "stats.categories.untouched": "Untouched statistics",
    "stats.labels.health": "Health (HP)",
    "stats.labels.mana": "Mana (MP)",
    "stats.labels.attackDamage": "Attack Damage (AD)",
    "stats.labels.abilityPower": "Ability Power (AP)",
    "stats.labels.armor": "Armor",
    "stats.labels.magicResist": "Magic Resist (MR)",
    "stats.labels.attackSpeed": "Attack Speed (AS)",
    "stats.labels.critChance": "Crit Chance",
    "stats.labels.lifeSteal": "Life Steal",
    "stats.labels.cooldownReduction": "Cooldown Reduction (CDR)",
    "stats.labels.movementSpeed": "Movement Speed (MS)",
    "stats.labels.healthRegen": "Health Regen",
    "stats.labels.manaRegen": "Mana Regen",
    "stats.labels.tenacity": "Tenacity",
    "stats.labels.goldValue": "Gold Value",
    "stats.labels.goldCost": "Gold Cost",
    "stats.labels.critDamage": "Crit Damage",
    "stats.labels.goldEfficiency": "Gold Efficiency",
    "stats.labels.totalEffectiveHealth": "Total Effective Health",
    "stats.labels.physicalEffectiveHealth": "Physical Effective Health",
    "stats.labels.magicalEffectiveHealth": "Magical Effective Health",
    "stats.labels.armorDamageReductionPercent": "Physical Damage Reduction (%)",
    "stats.labels.magicDamageReductionPercent": "Magic Damage Reduction (%)",
    "stats.title": "Statistics",
  },
};

/**
 * Translate a key. Pass `lang` explicitly so Vue can track the reactive dependency.
 * If called without `lang`, defaults to "fr".
 */
export function translate(lang: string, key: string, params?: Record<string, string | number>): string {
  const l = lang || "fr";
  let text = messages[l]?.[key] ?? messages.fr[key] ?? key;
  if (params) {
    for (const [k, v] of Object.entries(params)) {
      text = text.replace(`{${k}}`, String(v));
    }
  }
  return text;
}
